/*! For license information please see main.c2fa3f5c.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_undermuz_use_form=self.webpackChunk_undermuz_use_form||[]).push([[179],{"./.storybook/preview.cjs-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),D_Develops_Undermuz_react_use_form_storybook_preview_cjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./.storybook/preview.cjs");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(D_Develops_Undermuz_react_use_form_storybook_preview_cjs__WEBPACK_IMPORTED_MODULE_9__).forEach((function(key){var value=D_Develops_Undermuz_react_use_form_storybook_preview_cjs__WEBPACK_IMPORTED_MODULE_9__[key];switch(key){case"args":return(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.uc)(value);case"argTypes":return(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.HZ)(loader,!1)}));case"parameters":return(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__._C)(enhancer)}));case"render":return(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,D_Develops_Undermuz_react_use_form_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/stories/FormExamples.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BrowserInputsExample:()=>browser_inputs,ChakraUiExample:()=>chakra_ui,DatePickerExample:()=>date_picker,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FormExamples_stories});__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var react=__webpack_require__("./node_modules/react/index.js"),prism=__webpack_require__("./node_modules/react-syntax-highlighter/dist/esm/prism.js"),vsc_dark_plus=__webpack_require__("./node_modules/react-syntax-highlighter/dist/esm/styles/prism/vsc-dark-plus.js");__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EnumFormStatus,IsFunction=function IsFunction(value){return Boolean(value)&&["[object Function]","[object AsyncFunction]"].includes({}.toString.call(value))},FORM_ACTIONS={SET_ERRORS:"set_errors",SET_VALUES:"set_values",SET_VALUE:"set_value",SET_TESTS:"set_tests",SET_TOUCHED_FIELD:"set_touched_field",SET_TOUCHED:"set_touched",SET_CUSTOM_ERRORS:"set_custom_errors",SET_CUSTOM_ERROR_FIELD:"set_custom_error_field",SET_FIELDS:"set_fields",SET_VALIDATE:"set_validate",SET_IS_SENDING:"set_is_sending",SET_IS_CANCELING:"set_is_canceling",SET_IS_SUCCESS:"set_is_success",SET_SEND_ERROR:"set_send_error",VALIDATE_FORM:"validate_form",SEND_FORM:"send_form"};!function(EnumFormStatus){EnumFormStatus.Initial="initial"}(EnumFormStatus||(EnumFormStatus={}));var valuesReducer=function valuesReducer(state,action){var _Object$assign2;switch(action.type){case FORM_ACTIONS.SET_VALUES:return IsFunction(action.payload.values)?action.payload.values(state):action.payload.values;case FORM_ACTIONS.SET_VALUE:var _Object$assign;return IsFunction(action.payload.value)?Object.assign({},state,((_Object$assign={})[action.payload.name]=action.payload.value(state[action.payload.name]),_Object$assign)):Object.assign({},state,((_Object$assign2={})[action.payload.name]=action.payload.value,_Object$assign2));default:return state}},testsReducer=function testsReducer(state,action){return action.type===FORM_ACTIONS.SET_TESTS?IsFunction(action.payload.tests)?action.payload.tests(state):action.payload.tests:state},touchedReducer=function touchedReducer(state,action){switch(action.type){case FORM_ACTIONS.SET_TOUCHED:return IsFunction(action.payload.touched)?action.payload.touched(state):action.payload.touched;case FORM_ACTIONS.SET_TOUCHED_FIELD:var _action$payload=action.payload,name=_action$payload.name,_action$payload$value=_action$payload.value,value=void 0===_action$payload$value||_action$payload$value,newTouched=state;return value&&-1===state.indexOf(name)?newTouched=[].concat(_toConsumableArray(state),[name]):!value&&state.indexOf(name)>-1&&(newTouched=state.filter((function(_n){return _n!==name}))),newTouched;default:return state}},errorsReducer=function errorsReducer(state,action){return action.type===FORM_ACTIONS.SET_ERRORS?IsFunction(action.payload.errors)?action.payload.errors(state):action.payload.errors:state},customErrorsReducer=function customErrorsReducer(state,action){switch(action.type){case FORM_ACTIONS.SET_CUSTOM_ERRORS:return IsFunction(action.payload.errors)?action.payload.errors(state):action.payload.errors;case FORM_ACTIONS.SET_CUSTOM_ERROR_FIELD:var _Object$assign3,_ref=action.payload,name=_ref.name,value=_ref.value;return Object.assign({},state,((_Object$assign3={})[name]=value,_Object$assign3));default:return state}},fieldsReducer=function fieldsReducer(state,action){return action.type===FORM_ACTIONS.SET_FIELDS?IsFunction(action.payload.fields)?action.payload.fields(state):action.payload.fields:state},validateReducer=function validateReducer(state,action){return action.type===FORM_ACTIONS.SET_VALIDATE?action.payload.validate?action.payload.validate:getFormErrors:state},isSendingReducer=function isSendingReducer(state,action){return action.type===FORM_ACTIONS.SET_IS_SENDING?Boolean(action.payload):state},isCancelingReducer=function isCancelingReducer(state,action){return action.type===FORM_ACTIONS.SET_IS_CANCELING?Boolean(action.payload):state},isSuccessReducer=function isSuccessReducer(state,action){return action.type===FORM_ACTIONS.SET_IS_SUCCESS?Boolean(action.payload):state},sendErrorReducer=function sendErrorReducer(state,action){return action.type===FORM_ACTIONS.SET_SEND_ERROR?action.payload||null:state},formReducer=function formReducer(state,action){return Object.assign({},state,{values:valuesReducer(state.values,action),fields:fieldsReducer(state.fields,action),tests:testsReducer(state.tests,action),touched:touchedReducer(state.touched,action),errors:errorsReducer(state.errors,action),customErrors:customErrorsReducer(state.customErrors,action),validate:validateReducer(state.validate,action),isSending:isSendingReducer(state.isSending,action),isCanceling:isCancelingReducer(state.isCanceling,action),isSuccess:isSuccessReducer(state.isSuccess,action),sendError:sendErrorReducer(state.sendError,action)})};function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=validate_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||validate_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function validate_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return validate_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?validate_arrayLikeToArray(o,minLen):void 0}}function validate_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getFormErrors=function getFormErrors(state){for(var tests=state.tests,touched=state.touched,values=state.values,errors={},index=0;index<tests.length;index++){var _step,_tests$index=_slicedToArray(tests[index],3),names=_tests$index[0],testList=_tests$index[1],_tests$index$=_tests$index[2],errorText=void 0===_tests$index$?"Invalid":_tests$index$,_iterator=_createForOfIteratorHelper(names);try{for(_iterator.s();!(_step=_iterator.n()).done;){var name=_step.value;if(touched.includes(name)){var _step2,_iterator2=_createForOfIteratorHelper(testList);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){if(!(0,_step2.value)(values[name])){errors[name]||(errors[name]=[]),errors[name].push(errorText);break}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return errors},getValidateFunction=function getValidateFunction(action,store){var _action$payload$valid=action.payload.validate,customValidate=void 0===_action$payload$valid?null:_action$payload$valid,state=store.getState();return null!=customValidate?customValidate:state.validate},validateEffect=function validateEffect(action,store){var settings=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_action$silent=action.silent,silent=void 0!==_action$silent&&_action$silent,_action$checkOnlyFill=action.checkOnlyFilled,checkOnlyFilled=void 0===_action$checkOnlyFill||_action$checkOnlyFill,_settings$debug=settings.debug,debug=void 0!==_settings$debug&&_settings$debug;if([FORM_ACTIONS.SET_VALUE,FORM_ACTIONS.SET_VALUES,FORM_ACTIONS.SET_TESTS,FORM_ACTIONS.SET_TOUCHED_FIELD,FORM_ACTIONS.SET_TOUCHED,FORM_ACTIONS.SET_FIELDS,FORM_ACTIONS.SET_VALIDATE,FORM_ACTIONS.VALIDATE_FORM].some((function(t){return action.type===t}))&&!silent){var state=store.getState(),validate=getValidateFunction(action,store),validatedTouched=checkOnlyFilled?state.touched:Object.keys(state.fields),newErrors=validate(Object.assign({},state,{touched:validatedTouched}),debug);store.dispatch({type:FORM_ACTIONS.SET_ERRORS,payload:{errors:newErrors}})}};const validate=function createValidating(){var settings=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(store){return function(next){return function(action){var result=next(action);return validateEffect(action,store,settings),result}}}};var DEF_INITIAL_STATE_OPTIONS={initialValues:{},valueTests:[],fields:{},validate:getFormErrors};const useForm_getInitialState=function getInitialState(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEF_INITIAL_STATE_OPTIONS,_props$initialValues=props.initialValues,initialValues=void 0===_props$initialValues?{}:_props$initialValues,_props$valueTests=props.valueTests,valueTests=void 0===_props$valueTests?[]:_props$valueTests,_props$fields=props.fields,fields=void 0===_props$fields?{}:_props$fields,_props$validate=props.validate,_validate=void 0===_props$validate?getFormErrors:_props$validate;return{status:EnumFormStatus.Initial,values:initialValues,isSending:!1,isCanceling:!1,isSuccess:!1,sendError:null,tests:valueTests,validate:_validate,touched:[],fields,errors:{},customErrors:{}}};var DEF_VALUES={status:EnumFormStatus.Initial,values:{},isSending:!1,isCanceling:!1,isSuccess:!1,sendError:null,tests:[],validate:getFormErrors,touched:[],fields:[],errors:{},customErrors:{},send:function send(){return Promise.resolve()},isFormValid:function isFormValid(_c){return!0},IsFormValid:function IsFormValid(_c){return!0},setValue:function setValue(_name,_value,_silent,_checkOnlyFilled,_type){},setTouchedByName:function setTouchedByName(_name,_value,_silent){},setTouched:function setTouched(_newTouched,_silent,_checkOnlyFilled){},setValues:function setValues(_newValues,_silent,_checkOnlyFilled,_type){},setTests:function setTests(_newTests,_silent,_checkOnlyFilled){},setValidate:function setValidate(_newValidate,_silent,_checkOnlyFilled){},setErrors:function setErrors(_newErrors){},setCustomErrors:function setCustomErrors(_newErrors){},setCustomErrorByName:function setCustomErrorByName(_name,_error){},store:{getState:function getState(){return useForm_getInitialState()},dispatch:function dispatch(){}},dispatch:function dispatch(){}},FormContext=(0,react.createContext)(DEF_VALUES);FormContext.displayName="FormContext";var useFormContext=function useFormContext(){var ctx=(0,react.useContext)(FormContext);if(!ctx)throw new Error("You must wrap your component in form provider");return ctx};const form_context=FormContext;function connect_to_form_slicedToArray(arr,i){return function connect_to_form_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function connect_to_form_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function connect_to_form_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return connect_to_form_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return connect_to_form_arrayLikeToArray(o,minLen)}(arr,i)||function connect_to_form_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function connect_to_form_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const connect_to_form=function ConnectToForm(props){var _children$props,_useState2=connect_to_form_slicedToArray((0,react.useState)(!1),2),isFocused=_useState2[0],setFocus=_useState2[1],_props$IsFilled=props.IsFilled,IsFilled=void 0===_props$IsFilled?Boolean:_props$IsFilled,children=props.children,name=props.name,inputName=props.inputName,disabled=props.disabled,_props$type=props.type,type=void 0===_props$type?"connect-to-form":_props$type,_onRefInput=props.onRefInput,_onRef=props.onRef,params=useFormContext(),_params$isSending=params.isSending,isSending=void 0!==_params$isSending&&_params$isSending,_params$values=params.values,values=void 0===_params$values?{}:_params$values,_params$touched=params.touched,touched=void 0===_params$touched?[]:_params$touched,_params$errors=params.errors,allErrors=void 0===_params$errors?{}:_params$errors,_params$fields=params.fields,fields=void 0===_params$fields?{}:_params$fields,setValue=params.setValue,setTouchedByName=params.setTouchedByName,setCustomErrorByName=params.setCustomErrorByName,value=values[name],errors=allErrors[name],isTouched=touched.indexOf(name)>-1,hasError=Boolean(errors)&&(null==errors?void 0:errors.length)>0&&isTouched,isFilled=IsFilled(value),isSucceed=!hasError&&isTouched&&IsFilled(value),onError=(0,react.useCallback)((function(error){setCustomErrorByName(name,error)}),[setCustomErrorByName,name]),onRefInput=(0,react.useMemo)((function(){if(_onRefInput)return function(node){_onRefInput(name,node)}}),[name,_onRefInput]),onRef=(0,react.useMemo)((function(){if(_onRef)return function(_ref){_onRef(name,_ref)}}),[name,_onRef]),onFocus=(0,react.useCallback)((function(){setFocus(!0)}),[]),onBlur=(0,react.useCallback)((function(){setTouchedByName(name),setFocus(!1)}),[setTouchedByName]),_onChange=(0,react.useCallback)((function(_v){setValue(name,_v,!1,!0,type)}),[setValue,name,type]),inputProps={id:"field-"+name,name:inputName||name,label:(null==children||null===(_children$props=children.props)||void 0===_children$props?void 0:_children$props.label)||fields[name],disabled:isSending||disabled||!1,value,onChange:function onChange(e){var _e$target;return null==_onChange?void 0:_onChange(null==e||null===(_e$target=e.target)||void 0===_e$target?void 0:_e$target.value)},onFocus,onBlur};if(!children)return console.error("ConnectToForm must have a children"),null;var connectedProps={inputProps,name:inputProps.name,value:inputProps.value,label:inputProps.label,errors:hasError?errors:null,disabled:inputProps.disabled,isFocused,isTouched,isFilled,isSucceed,isDisabled:inputProps.disabled,hasError,onChange:_onChange,onFocus,onBlur,onRefInput,onRef,onError};return(0,react.cloneElement)(children,connectedProps)};try{connecttoform.displayName="connecttoform",connecttoform.__docgenInfo={description:"",displayName:"connecttoform",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},inputName:{defaultValue:null,description:"",name:"inputName",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},IsFilled:{defaultValue:null,description:"",name:"IsFilled",required:!1,type:{name:"((v: any) => boolean)"}},onRefInput:{defaultValue:null,description:"",name:"onRefInput",required:!1,type:{name:"Function"}},onRef:{defaultValue:null,description:"",name:"onRef",required:!1,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/connect-to-form.tsx#connecttoform"]={docgenInfo:connecttoform.__docgenInfo,name:"connecttoform",path:"src/components/connect-to-form.tsx#connecttoform"})}catch(__react_docgen_typescript_loader_error){}var useIsFormSending=function useIsFormSending(){return useFormContext().isSending},useIsFormHasErrors=function useIsFormHasErrors(){var params=useFormContext();return Object.keys(params.errors).length>0},useFormFields=function useFormFields(){return useFormContext().fields},useFormErrors=function useFormErrors(){return useFormContext().errors},useRefBy=function useRefBy(by){var refBy=(0,react.useRef)(by);return(0,react.useEffect)((function(){refBy.current=by}),[by]),refBy},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const utils_ifForm=function IfForm(props){var children=props.children,_props$isCanceling=props.isCanceling,isCanceling=void 0!==_props$isCanceling&&_props$isCanceling,_props$isSending=props.isSending,isSending=void 0!==_props$isSending&&_props$isSending,_props$isSuccess=props.isSuccess,isSuccess=void 0!==_props$isSuccess&&_props$isSuccess,hasErrors=props.hasErrors,isFormHasErrors=useIsFormHasErrors(),isFormSuccess=function useIsFormSuccess(){return useFormContext().isSuccess}(),isFormCanceling=function useIsFormCanceling(){return useFormContext().isCanceling}(),isFormSending=useIsFormSending();return hasErrors&&!isFormHasErrors||isSuccess&&!isFormSuccess||isCanceling&&!isFormCanceling||isSending&&!isFormSending?null:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children})};try{ifForm.displayName="ifForm",ifForm.__docgenInfo={description:"",displayName:"ifForm",props:{hasErrors:{defaultValue:null,description:"",name:"hasErrors",required:!1,type:{name:"boolean"}},isCanceling:{defaultValue:null,description:"",name:"isCanceling",required:!1,type:{name:"boolean"}},isSending:{defaultValue:null,description:"",name:"isSending",required:!1,type:{name:"boolean"}},isSuccess:{defaultValue:null,description:"",name:"isSuccess",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/ifForm.tsx#ifForm"]={docgenInfo:ifForm.__docgenInfo,name:"ifForm",path:"src/utils/ifForm.tsx#ifForm"})}catch(__react_docgen_typescript_loader_error){}var EnumFormSubmitStatus,_excluded=["as","children","disableWhenErrors","onSend","onSucceed","onError","disabled"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}!function(EnumFormSubmitStatus){EnumFormSubmitStatus.Default="default",EnumFormSubmitStatus.Succeed="succeed",EnumFormSubmitStatus.Canceling="canceling",EnumFormSubmitStatus.Sending="sending"}(EnumFormSubmitStatus||(EnumFormSubmitStatus={}));var FormSubmit=function FormSubmit(props){var _props$as=props.as,Component=void 0===_props$as?"button":_props$as,children=props.children,_props$disableWhenErr=props.disableWhenErrors,disableWhenErrors=void 0!==_props$disableWhenErr&&_props$disableWhenErr,onSend=props.onSend,onSucceed=props.onSucceed,onError=props.onError,_props$disabled=props.disabled,disabled=void 0!==_props$disabled&&_props$disabled,otherProps=_objectWithoutProperties(props,_excluded),hasErrors=useIsFormHasErrors(),isSending=useIsFormSending(),submit=function useFormSubmit(onSend,onSucceed,onError){var send=useFormContext().send;return(0,react.useCallback)((function(){send(onSend).then(onSucceed,onError)}),[send,onSend,onSucceed,onError])}(onSend,onSucceed,onError);return(0,jsx_runtime.jsxs)(Component,Object.assign({},otherProps,{disabled:isSending||hasErrors&&disableWhenErrors||disabled,type:"submit",onClick:submit,children:[(0,jsx_runtime.jsx)(utils_ifForm,{children:children?children(EnumFormSubmitStatus.Default):"Send"}),(0,jsx_runtime.jsx)(utils_ifForm,{isSuccess:!0,children:children?children(EnumFormSubmitStatus.Succeed):"Succeed"}),(0,jsx_runtime.jsx)(utils_ifForm,{isCanceling:!0,children:children?children(EnumFormSubmitStatus.Canceling):"Failed"}),(0,jsx_runtime.jsx)(utils_ifForm,{isSending:!0,children:children?children(EnumFormSubmitStatus.Sending):"Sending..."})]}))};FormSubmit.displayName="FormSubmit";const form_submit=FormSubmit;try{formsubmit.displayName="formsubmit",formsubmit.__docgenInfo={description:"",displayName:"formsubmit",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},disableWhenErrors:{defaultValue:null,description:"",name:"disableWhenErrors",required:!1,type:{name:"boolean"}},onSend:{defaultValue:null,description:"",name:"onSend",required:!0,type:{name:"Function"}},onSucceed:{defaultValue:null,description:"",name:"onSucceed",required:!0,type:{name:"(value: any) => any"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((reason: any) => any)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/form-submit.tsx#formsubmit"]={docgenInfo:formsubmit.__docgenInfo,name:"formsubmit",path:"src/components/form-submit.tsx#formsubmit"})}catch(__react_docgen_typescript_loader_error){}var index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js");const useForm_useControlledForm=function useControlledForm(form,props){var value=props.value,onChange=props.onChange,options=props.options,valueRef=(0,react.useRef)(value),onChangeRef=useRefBy(onChange),mountFlag=(0,react.useRef)(!1);(0,react.useEffect)((function(){value&&value!==valueRef.current&&!(0,index_all.Xy)(value,valueRef.current)&&(null!=options&&options.debug&&console.log("[useForm][Update values from external]",{external:value,current:valueRef.current}),valueRef.current=value,form.setValues(value))}),[value]),(0,react.useEffect)((function(){mountFlag.current?onChangeRef.current&&valueRef.current!==form.values&&!(0,index_all.Xy)(valueRef.current,form.values)&&(null!=options&&options.debug&&console.log("[useForm][Emit values to external]",{current:form.values,external:valueRef.current}),valueRef.current=form.values,onChangeRef.current(form.values)):mountFlag.current=!0}),[form.values]),(0,react.useEffect)((function(){value&&value!==form.store.getState().values&&(null!=options&&options.debug&&console.log("[useForm][Set initials values]",{external:value,current:form.store.getState().values}),form.setValues(value))}),[])};var isFormHasErrors=function isFormHasErrors(settings,store){var checkOnlyFilled=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],debug=settings.debug,state=store.getState(),validate=state.validate,touched=state.touched,fields=state.fields,newErrors=validate(Object.assign({},state,{touched:checkOnlyFilled?touched:Object.keys(fields)}),debug);return[Object.keys(newErrors).length>0,newErrors]};const useForm_useFormControl=function useFormControl(props,store,dispatch){var setValues=function useSetValues(_settings,_store,dispatch){return(0,react.useCallback)((function(newValues){var silent=arguments.length>1&&void 0!==arguments[1]&&arguments[1],checkOnlyFilled=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],type=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"system";dispatch({type:FORM_ACTIONS.SET_VALUES,payload:{values:newValues,type},silent,checkOnlyFilled})}),[])}(0,0,dispatch),setTouched=function useSetTouched(_settings,_store,dispatch){return(0,react.useCallback)((function(newTouched){var silent=arguments.length>1&&void 0!==arguments[1]&&arguments[1],checkOnlyFilled=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];dispatch({type:FORM_ACTIONS.SET_TOUCHED,payload:{touched:newTouched},silent,checkOnlyFilled})}),[])}(0,0,dispatch),setTests=function useSetTests(_settings,_store,dispatch){return(0,react.useCallback)((function(newTests){var silent=arguments.length>1&&void 0!==arguments[1]&&arguments[1],checkOnlyFilled=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];dispatch({type:FORM_ACTIONS.SET_TESTS,payload:{tests:newTests},silent,checkOnlyFilled})}),[])}(0,0,dispatch),setValidate=function useSetValidate(_settings,_store,dispatch){return(0,react.useCallback)((function(newValidate){var silent=arguments.length>1&&void 0!==arguments[1]&&arguments[1],checkOnlyFilled=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];dispatch({type:FORM_ACTIONS.SET_VALIDATE,payload:newValidate,silent,checkOnlyFilled})}),[])}(0,0,dispatch),setErrors=function useSetErrors(_settings,_store,dispatch){return(0,react.useCallback)((function(newErrors){dispatch({type:FORM_ACTIONS.SET_ERRORS,payload:{errors:newErrors}})}),[])}(0,0,dispatch),setCustomErrors=function useSetCustomErrors(_settings,_store,dispatch){return(0,react.useCallback)((function(newErrors){dispatch({type:FORM_ACTIONS.SET_CUSTOM_ERRORS,payload:{errors:newErrors}})}),[])}(0,0,dispatch),setCustomErrorByName=function useSetCustomErrorByName(_settings,_store,dispatch){return(0,react.useCallback)((function(name,value){dispatch({type:FORM_ACTIONS.SET_CUSTOM_ERROR_FIELD,payload:{name,value}})}),[])}(0,0,dispatch),setValue=function useSetFieldValue(_settings,_store,dispatch){return(0,react.useCallback)((function(name,value){var silent=arguments.length>2&&void 0!==arguments[2]&&arguments[2],checkOnlyFilled=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],type=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"system";dispatch({type:FORM_ACTIONS.SET_VALUE,payload:{name,value,type},silent,checkOnlyFilled})}),[])}(0,0,dispatch),setTouchedByName=function useSetFieldTouched(_settings,_store,dispatch){return(0,react.useCallback)((function(name){var value=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],silent=arguments.length>2&&void 0!==arguments[2]&&arguments[2];dispatch({type:FORM_ACTIONS.SET_TOUCHED_FIELD,payload:{name,value},silent})}),[])}(0,0,dispatch);return{send:(0,react.useCallback)((function(api){return new Promise((function(onResolve,onReject){dispatch({type:FORM_ACTIONS.SEND_FORM,payload:{api,onResolve,onReject}})}))}),[]),setValue,setTouchedByName,setTouched,setValues,setTests,setValidate,setErrors,setCustomErrors,setCustomErrorByName}};function useFormCore_toConsumableArray(arr){return function useFormCore_arrayWithoutHoles(arr){if(Array.isArray(arr))return useFormCore_arrayLikeToArray(arr)}(arr)||function useFormCore_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useFormCore_unsupportedIterableToArray(arr)||function useFormCore_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useFormCore_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=useFormCore_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useFormCore_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useFormCore_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useFormCore_arrayLikeToArray(o,minLen):void 0}}function useFormCore_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const useForm_useFormCore=function useFormCore(formConfig,formState){var state=formState.state,dispatch=formState.dispatch,store=formState.store,formControl=useForm_useFormControl(formConfig,store,dispatch),validate=function useIsFormValid(settings,store,_dispatch){return(0,react.useCallback)((function(){return!isFormHasErrors(settings,store,!(arguments.length>0&&void 0!==arguments[0])||arguments[0])[0]}),[])}(formConfig,store),errors=(0,react.useMemo)((function(){var _step,_fieldNames=[Object.keys(state.errors),Object.keys(state.customErrors)],fieldPrimaryNamesKey=_fieldNames[0].length>_fieldNames[1].length?0:1,fieldSecondaryNamesKey=Math.abs(fieldPrimaryNamesKey-1),fieldPrimaryNames=_fieldNames[fieldPrimaryNamesKey],_iterator=useFormCore_createForOfIteratorHelper(_fieldNames[fieldSecondaryNamesKey]);try{for(_iterator.s();!(_step=_iterator.n()).done;){var fieldName=_step.value;fieldPrimaryNames.includes(fieldName)||fieldPrimaryNames.push(fieldName)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _step2,allErrors={},_iterator2=useFormCore_createForOfIteratorHelper(fieldPrimaryNames);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _fieldName=_step2.value,fieldErrors=[],fieldPrimaryErrors=state.errors[_fieldName],fieldSecondaryErrors=state.customErrors[_fieldName];fieldPrimaryErrors&&(Array.isArray(fieldPrimaryErrors)?fieldErrors.push.apply(fieldErrors,useFormCore_toConsumableArray(fieldPrimaryErrors)):fieldErrors.push(fieldPrimaryErrors)),fieldSecondaryErrors&&(Array.isArray(fieldSecondaryErrors)?fieldErrors.push.apply(fieldErrors,useFormCore_toConsumableArray(fieldSecondaryErrors)):fieldErrors.push(fieldSecondaryErrors)),fieldErrors.length&&(allErrors[_fieldName]=fieldErrors)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return allErrors}),[state.errors,state.customErrors]);return Object.assign({},state,formControl,{errors,IsFormValid:validate,isFormValid:validate,store,dispatch})};__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var FormValidateError=function(_Error){_inherits(FormValidateError,_Error);var _super=_createSuper(FormValidateError);function FormValidateError(message,errors){var _this;return _classCallCheck(this,FormValidateError),(_this=_super.call(this,message)).errors=void 0,_this.name="FormValidateError",_this.errors=errors,_this.message=message,Object.setPrototypeOf(_assertThisInitialized(_this),FormValidateError.prototype),_this}return _createClass(FormValidateError)}(_wrapNativeSuper(Error)),FormSendError=function(_Error2){_inherits(FormSendError,_Error2);var _super2=_createSuper(FormSendError);function FormSendError(message,catchError,errors){var _this2;return _classCallCheck(this,FormSendError),(_this2=_super2.call(this,message)).errors=void 0,_this2.catchError=void 0,_this2.name="FormSendError",_this2.catchError=catchError,_this2.errors=errors,_this2.message=message,Object.setPrototypeOf(_assertThisInitialized(_this2),FormSendError.prototype),_this2}return _createClass(FormSendError)}(_wrapNativeSuper(Error));function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function send_slicedToArray(arr,i){return function send_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function send_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function send_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return send_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return send_arrayLikeToArray(o,minLen)}(arr,i)||function send_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function send_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var noop=function noop(){},setIsSending=function setIsSending(value){return{type:FORM_ACTIONS.SET_IS_SENDING,payload:value}},setIsCanceling=function setIsCanceling(value){return{type:FORM_ACTIONS.SET_IS_CANCELING,payload:value}},setIsSuccess=function setIsSuccess(value){return{type:FORM_ACTIONS.SET_IS_SUCCESS,payload:value}},setErrors=function setErrors(value){return{type:FORM_ACTIONS.SET_ERRORS,payload:{errors:value}}},setTouched=function setTouched(value){var silent=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:FORM_ACTIONS.SET_TOUCHED,payload:{touched:value},silent}},setSendError=function setSendError(value){return{type:FORM_ACTIONS.SET_SEND_ERROR,payload:value}},send=function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(settings,store,api){var mapServerFields,afterSendDelay,_settings$debug,debug,state,d,_isFormHasErrors,_isFormHasErrors2,isFormInvalid,formErrors,resp,_error$__meta__,_errors,hasErrors,formInfo;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mapServerFields=settings.mapServerFields,afterSendDelay=settings.afterSendDelay,_settings$debug=settings.debug,debug=void 0!==_settings$debug&&_settings$debug,state=store.getState(),(d=store.dispatch)(setIsSending(!0)),d(setTouched(Object.keys(state.fields),!0)),_isFormHasErrors=isFormHasErrors(settings,store,!1),_isFormHasErrors2=send_slicedToArray(_isFormHasErrors,2),isFormInvalid=_isFormHasErrors2[0],formErrors=_isFormHasErrors2[1],debug&&console.log("[useForm][send][Is form valid: "+(isFormInvalid?"no":"yes")+"]",formErrors),!isFormInvalid){_context.next=13;break}throw d(setErrors(formErrors)),d(setIsCanceling(!0)),setTimeout((function(){d(setIsCanceling(!1))}),afterSendDelay),d(setIsSending(!1)),new FormValidateError("Form is invalid");case 13:return _context.prev=13,d(setSendError(null)),debug&&console.log("[useForm][send][Sending]",state.values),_context.next=18,api(state.values);case 18:return resp=_context.sent,debug&&console.log("[useForm][send][Success]"),d(setIsSuccess(!0)),setTimeout((function(){d(setIsSuccess(!1))}),afterSendDelay),d(setIsSending(!1)),_context.abrupt("return",{response:resp,values:state.values});case 26:throw _context.prev=26,_context.t0=_context.catch(13),_errors={},hasErrors=!1,null!==_context.t0&&void 0!==_context.t0&&null!==(_error$__meta__=_context.t0.__meta__)&&void 0!==_error$__meta__&&_error$__meta__.formInfo&&(formInfo=_context.t0.__meta__.formInfo).fieldsErrors&&Object.keys(formInfo.fieldsErrors).forEach((function(fieldName){var _mapServerFields$fiel,realFieldName=null!==(_mapServerFields$fiel=mapServerFields[fieldName])&&void 0!==_mapServerFields$fiel?_mapServerFields$fiel:fieldName;hasErrors=!0,_errors[realFieldName]=formInfo.fieldsErrors[fieldName]})),debug&&(console.error("[useForm][send][Fail]",null===_context.t0||void 0===_context.t0?void 0:_context.t0.message),console.error(_context.t0)),d(setSendError(_context.t0)),d(setIsCanceling(!0)),setTimeout((function(){d(setIsCanceling(!1))}),afterSendDelay),d(setIsSending(!1)),hasErrors&&d(setErrors(_errors)),new FormSendError("Request has failed",_context.t0,_errors);case 38:case"end":return _context.stop()}}),_callee,null,[[13,26]])})));return function send(_x,_x2,_x3){return _ref.apply(this,arguments)}}();const middlewares_send=function createSend(settings){return function(store){return function(next){return function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(action){var result,_action$payload,api,_action$payload$onRes,onResolve,_action$payload$onRej,onReject,resp;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(result=next(action),action.type===FORM_ACTIONS.SEND_FORM){_context2.next=3;break}return _context2.abrupt("return",result);case 3:return _action$payload=action.payload,api=_action$payload.api,_action$payload$onRes=_action$payload.onResolve,onResolve=void 0===_action$payload$onRes?noop:_action$payload$onRes,_action$payload$onRej=_action$payload.onReject,onReject=void 0===_action$payload$onRej?noop:_action$payload$onRej,_context2.prev=4,_context2.next=7,send(settings,store,api);case 7:resp=_context2.sent,onResolve(resp),_context2.next=14;break;case 11:_context2.prev=11,_context2.t0=_context2.catch(4),onReject(_context2.t0);case 14:case"end":return _context2.stop()}}),_callee2,null,[[4,11]])})));return function(_x4){return _ref2.apply(this,arguments)}}()}}};__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js");function useReducer_toConsumableArray(arr){return function useReducer_arrayWithoutHoles(arr){if(Array.isArray(arr))return useReducer_arrayLikeToArray(arr)}(arr)||function useReducer_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useReducer_unsupportedIterableToArray(arr)||function useReducer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useReducer_slicedToArray(arr,i){return function useReducer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useReducer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||useReducer_unsupportedIterableToArray(arr,i)||function useReducer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useReducer_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useReducer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useReducer_arrayLikeToArray(o,minLen):void 0}}function useReducer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function compose(){for(var _len=arguments.length,fns=new Array(_len),_key=0;_key<_len;_key++)fns[_key]=arguments[_key];return 0===fns.length?function(arg){return arg}:1===fns.length?fns[0]:fns.reduce((function(a,b){return function(){return a(b.apply(void 0,arguments))}}))}const utils_useReducer=function useReducer(reducer,initialState){var middlewares=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],_useState2=useReducer_slicedToArray((0,react.useState)(initialState),2),state=_useState2[0],setState=_useState2[1],draftState=(0,react.useRef)(initialState),dispatch=(0,react.useCallback)((function(action){return draftState.current=reducer(draftState.current,action),setState(draftState.current),action}),[]),enhancedDispatch=(0,react.useMemo)((function(){var store={getState:function getState(){return draftState.current},dispatch:function dispatch(){return _enhancedDispatch.apply(void 0,arguments)}},chain=middlewares.map((function(middleware){return middleware(store)})),_enhancedDispatch=compose.apply(void 0,useReducer_toConsumableArray(chain))(dispatch);return _enhancedDispatch}),[]),store=(0,react.useMemo)((function(){return{getState:function getState(){return draftState.current},dispatch:function dispatch(){return enhancedDispatch.apply(void 0,arguments)}}}),[]);return[state,enhancedDispatch,store]};function useFormState_slicedToArray(arr,i){return function useFormState_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useFormState_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||useFormState_unsupportedIterableToArray(arr,i)||function useFormState_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useFormState_toConsumableArray(arr){return function useFormState_arrayWithoutHoles(arr){if(Array.isArray(arr))return useFormState_arrayLikeToArray(arr)}(arr)||function useFormState_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useFormState_unsupportedIterableToArray(arr)||function useFormState_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useFormState_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useFormState_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useFormState_arrayLikeToArray(o,minLen):void 0}}function useFormState_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const useForm_useFormState=function useFormState(props){var initialState=(0,react.useMemo)((function(){return useForm_getInitialState(props)}),[]),middlewares=(0,react.useMemo)((function(){return[].concat(useFormState_toConsumableArray((null==props?void 0:props.middlewares)||[]),[validate(props),middlewares_send(props)])}),[]),_useReducer2=useFormState_slicedToArray(utils_useReducer(formReducer,initialState,middlewares),3);return{state:_useReducer2[0],dispatch:_useReducer2[1],store:_useReducer2[2]}};function useFormConfigBySettings_toConsumableArray(arr){return function useFormConfigBySettings_arrayWithoutHoles(arr){if(Array.isArray(arr))return useFormConfigBySettings_arrayLikeToArray(arr)}(arr)||function useFormConfigBySettings_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function useFormConfigBySettings_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useFormConfigBySettings_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useFormConfigBySettings_arrayLikeToArray(o,minLen)}(arr)||function useFormConfigBySettings_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useFormConfigBySettings_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const useForm_useFormConfigBySettings=function useFormConfigBySettings(props){return(0,react.useMemo)((function(){var _config=Object.assign({initialValues:props.value?props.value:{},valueTests:[],fields:{}},props.options||{});return Object.keys(props.fields).forEach((function(fieldName){var _field$rules,field,_field=props.fields[fieldName];field="string"==typeof _field?{label:_field,initialValue:void 0,rules:[]}:_field,_config.fields[fieldName]=field.label||fieldName,props.value||(_config.initialValues[fieldName]=field.initialValue),null!==(_field$rules=field.rules)&&void 0!==_field$rules&&_field$rules.length&&field.rules.forEach((function(rule){_config.valueTests.push([[fieldName]].concat(useFormConfigBySettings_toConsumableArray(rule)))}))})),_config}),[])};const events_useFormOnError=function useFormOnError(form,props){var onError=props.onError,options=props.options,onErrorRef=useRefBy(onError),errorsRef=(0,react.useRef)(form.errors);(0,react.useEffect)((function(){var _onErrorRef$current;(0,index_all.Xy)(errorsRef.current,form.errors)||(null!=options&&options.debug&&console.log("[useForm][On: Error]",errorsRef.current,form.errors),errorsRef.current=form.errors,null===(_onErrorRef$current=onErrorRef.current)||void 0===_onErrorRef$current||_onErrorRef$current.call(onErrorRef,form.errors))}),[form.errors])};function useForm_slicedToArray(arr,i){return function useForm_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useForm_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function useForm_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useForm_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useForm_arrayLikeToArray(o,minLen)}(arr,i)||function useForm_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useForm_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const useForm_useForm=function useForm(formSettings){var _useFormCoreParams=function useFormCoreParams(formSettings){var formConfig=useForm_useFormConfigBySettings(formSettings);return[formConfig,useForm_useFormState(formConfig)]}(formSettings),_useFormCoreParams2=useForm_slicedToArray(_useFormCoreParams,2),formConfig=_useFormCoreParams2[0],formState=_useFormCoreParams2[1],form=useForm_useFormCore(formConfig,formState);return useForm_useControlledForm(form,formSettings),events_useFormOnError(form,formSettings),form};var chunk_PXXQR4UW=__webpack_require__("./node_modules/@chakra-ui/form-control/dist/chunk-PXXQR4UW.mjs"),chunk_3HLJVDJ7=__webpack_require__("./node_modules/@chakra-ui/form-control/dist/chunk-3HLJVDJ7.mjs"),chunk_WFX3T3Z6=__webpack_require__("./node_modules/@chakra-ui/form-control/dist/chunk-WFX3T3Z6.mjs"),chunk_GYFRIY2Z=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-GYFRIY2Z.mjs"),chunk_MUMUYFOI=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-MUMUYFOI.mjs"),chunk_NAA7TEES=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-NAA7TEES.mjs"),chunk_7NLW6UB6=__webpack_require__("./node_modules/@chakra-ui/color-mode/dist/chunk-7NLW6UB6.mjs"),chunk_DGNA6VRZ=__webpack_require__("./node_modules/@chakra-ui/react/dist/chunk-DGNA6VRZ.mjs"),chunk_HUQHYERK=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-HUQHYERK.mjs"),chunk_6CSUKJP7=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),esm=__webpack_require__("./node_modules/storybook-dark-mode/dist/esm/index.js"),DarkMode=function DarkMode(){var dark=(0,esm.vs)(),setColorMode=(0,chunk_7NLW6UB6.If)().setColorMode;return(0,react.useEffect)((function(){setColorMode(dark?"dark":"light")}),[dark]),null},BaseStoryLayout=function BaseStoryLayout(_ref){var left=_ref.left,children=_ref.children,_ref$isChakra=_ref.isChakra,isChakra=void 0!==_ref$isChakra&&_ref$isChakra,Wrapper=isChakra?chunk_DGNA6VRZ.x:react.Fragment;return(0,jsx_runtime.jsxs)(Wrapper,{children:[isChakra&&(0,jsx_runtime.jsx)(DarkMode,{}),(0,jsx_runtime.jsxs)(chunk_HUQHYERK.U,{alignItems:"flex-start",children:[(0,jsx_runtime.jsx)(chunk_6CSUKJP7.xu,{w:"40%",p:"md",children:left}),(0,jsx_runtime.jsx)(chunk_6CSUKJP7.xu,{w:"60%",children})]})]})};BaseStoryLayout.displayName="BaseStoryLayout";const stories_base=BaseStoryLayout;try{base.displayName="base",base.__docgenInfo={description:"",displayName:"base",props:{left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"ReactNode"}},isChakra:{defaultValue:{value:"false"},description:"",name:"isChakra",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/base.tsx#base"]={docgenInfo:base.__docgenInfo,name:"base",path:"src/stories/base.tsx#base"})}catch(__react_docgen_typescript_loader_error){}var FormField=function FormField(props){var label=props.label,_props$description=props.description,description=void 0===_props$description?null:_props$description,errors=props.errors,children=props.children,_props$hasError=props.hasError,hasError=void 0!==_props$hasError&&_props$hasError;return(0,jsx_runtime.jsxs)(chunk_PXXQR4UW.NI,{isInvalid:hasError,children:[(0,jsx_runtime.jsx)(chunk_3HLJVDJ7.l,{children:label}),children,null!==description&&!hasError&&(0,jsx_runtime.jsx)(chunk_PXXQR4UW.Q6,{children:description}),null==errors?void 0:errors.map((function(errorText,index){return"string"!=typeof errorText?null:(0,jsx_runtime.jsx)(chunk_WFX3T3Z6.J1,{children:errorText},index)}))]})};FormField.displayName="FormField";var FormInput=function FormInput(props){var _props$type=props.type,type=void 0===_props$type?"text":_props$type,_props$placeholder=props.placeholder,placeholder=void 0===_props$placeholder?"":_props$placeholder,value=props.value,_onChange=props.onChange,_onBlur=props.onBlur;return(0,jsx_runtime.jsx)(FormField,Object.assign({},props,{children:(0,jsx_runtime.jsx)(chunk_GYFRIY2Z.I,{type,placeholder,onChange:function onChange(e){return null==_onChange?void 0:_onChange(e.target.value)},onBlur:function onBlur(){return null==_onBlur?void 0:_onBlur()},value})}))};FormInput.displayName="FormInput";var ErrorBlock=function ErrorBlock(){var errors=useFormErrors(),fields=useFormFields();return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object.keys(errors).map((function(name){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{children:[(null==fields?void 0:fields[name])||name,":"]},name),(0,jsx_runtime.jsx)("ul",{children:errors[name].map((function(error,i){return(0,jsx_runtime.jsx)("li",{children:error},i)}))})]})}))})},formConfig={fields:{username:{label:"Login",rules:[[[Boolean],"Username is required"]]},password:{label:"Password",rules:[[[Boolean],"Password is required"]]}}},chakra_ui_BaseExampleForm=function BaseExampleForm(){var form=useForm_useForm(formConfig),onSend=(0,react.useCallback)((function(values){console.log("Login data",values)}),[]),onSucceed=(0,react.useCallback)((function(){console.log("Login completed")}),[]);return(0,jsx_runtime.jsx)(stories_base,{isChakra:!0,left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\nconst formConfig: IUseFormSettings = {\n    fields: {\n        username: {\n            label: "Login",\n            rules: [[[Boolean], "Username is required"]],\n        },\n        password: {\n            label: "Password",\n            rules: [[[Boolean], "Password is required"]],\n        },\n    },\n}\n'}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\nconst form = useForm(formConfig)\n\nconst onSend = useCallback((values: IValues) => {\n    console.log("Login data", values)\n}, [])\n\nconst onSucceed = useCallback(() => {\n    console.log("Login completed")\n}, [])\n'}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:"//console.log(form.value)\n"+JSON.stringify(form.values,null,2)}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:"//console.log(form.errors)\n"+JSON.stringify(form.errors,null,2)}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\ntype InputProps = Partial<IConnectedProps> & {\n    type?: string\n    placeholder?: string\n    description?: string\n}\n\nconst FormField: FC<PropsWithChildren<InputProps>> = (props) => {\n    const {\n        label,\n        description = null,\n        errors, //Provides by ConnectToForm\n        children,\n        hasError = false, //Provides by ConnectToForm\n    } = props\n\n    return (\n        <FormControl isInvalid={hasError}>\n            <FormLabel>{label}</FormLabel>\n\n            {children}\n\n            {description !== null && !hasError && (\n                <FormHelperText>{description}</FormHelperText>\n            )}\n\n            {errors?.map((errorText, index) => {\n                if (typeof errorText !== "string") {\n                    return null\n                }\n\n                return (\n                    <FormErrorMessage key={index}>{errorText}</FormErrorMessage>\n                )\n            })}\n        </FormControl>\n    )\n}\n\nconst FormInput: React.FC<InputProps> = (props) => {\n    const {\n        type = "text",\n        placeholder = "",\n        value, //Provides by ConnectToForm\n        onChange, //Provides by ConnectToForm\n        onBlur, //Provides by ConnectToForm\n    } = props\n\n    return (\n        <FormField {...props}>\n            <Input\n                type={type}\n                placeholder={placeholder}\n                onChange={(e) => onChange?.(e.target.value)}\n                onBlur={() => onBlur?.()}\n                value={value}\n            />\n        </FormField>\n    )\n}\n\nconst ErrorBlock = () => {\n    const errors = useFormErrors()\n    const fields = useFormFields()\n\n    return (\n        <>\n            {Object.keys(errors).map((name) => (\n                <>\n                    <p key={name}>{fields?.[name] || name}:</p>\n                    <ul>\n                        {errors[name].map((error, i) => (\n                            <li key={i}>{error as string}</li>\n                        ))}\n                    </ul>\n                </>\n            ))}\n        </>\n    )\n}\n...\n\n<FormContext.Provider value={form}>\n    <VStack alignItems={"flex-start"}>\n        <ConnectToForm name="username">\n            <FormInput placeholder="Enter your login" />\n        </ConnectToForm>\n\n        <ConnectToForm name="password">\n            <FormInput\n                type="password"\n                placeholder="Enter your password"\n            />\n        </ConnectToForm>\n\n        <FormSubmit\n            as={Button}\n            onSend={onSend}\n            onSucceed={onSucceed}\n        >\n            {(status: EnumFormSubmitStatus) => {\n                if (status === EnumFormSubmitStatus.Sending) {\n                    return "Sending..."\n                }\n\n                return "Send"\n            }}\n        </FormSubmit>\n\n        <IfForm hasErrors>\n            <ErrorBlock />\n        </IfForm>\n    </VStack>\n</FormContext.Provider>\n'})]}),children:(0,jsx_runtime.jsx)(form_context.Provider,{value:form,children:(0,jsx_runtime.jsxs)(chunk_MUMUYFOI.g,{alignItems:"flex-start",children:[(0,jsx_runtime.jsx)(connect_to_form,{name:"username",children:(0,jsx_runtime.jsx)(FormInput,{placeholder:"Enter your login"})}),(0,jsx_runtime.jsx)(connect_to_form,{name:"password",children:(0,jsx_runtime.jsx)(FormInput,{type:"password",placeholder:"Enter your password"})}),(0,jsx_runtime.jsx)(form_submit,{as:chunk_NAA7TEES.z,onSend,onSucceed,children:function children(status){return status===EnumFormSubmitStatus.Sending?"Sending...":"Send"}}),(0,jsx_runtime.jsx)(utils_ifForm,{hasErrors:!0,children:(0,jsx_runtime.jsx)(ErrorBlock,{})})]})})})};chakra_ui_BaseExampleForm.displayName="BaseExampleForm";const chakra_ui=chakra_ui_BaseExampleForm;try{chakraui.displayName="chakraui",chakraui.__docgenInfo={description:"",displayName:"chakraui",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/form-examples/chakra-ui.tsx#chakraui"]={docgenInfo:chakraui.__docgenInfo,name:"chakraui",path:"src/stories/form-examples/chakra-ui.tsx#chakraui"})}catch(__react_docgen_typescript_loader_error){}var browser_inputs_excluded=["inputProps"];function browser_inputs_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function browser_inputs_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var styles={display:"flex",flexDirection:"column"},FormInputV1=function FormInputV1(_ref){var _ref$inputProps=_ref.inputProps,inputProps=void 0===_ref$inputProps?{}:_ref$inputProps,rest=browser_inputs_objectWithoutProperties(_ref,browser_inputs_excluded);return(0,jsx_runtime.jsxs)("label",{style:styles,children:[inputProps.label,":",(0,jsx_runtime.jsx)("input",Object.assign({},index_all.ZP.pick(rest,["type","placeholder"]),inputProps))]})};FormInputV1.displayName="FormInputV1";var FormInputV2=function FormInputV2(props){var _props$type=props.type,type=void 0===_props$type?"text":_props$type,_props$placeholder=props.placeholder,placeholder=void 0===_props$placeholder?"":_props$placeholder,label=props.label,name=props.name,value=props.value,_onChange=props.onChange,_onBlur=props.onBlur;return(0,jsx_runtime.jsxs)("div",{style:styles,children:[(0,jsx_runtime.jsxs)("label",{htmlFor:name,children:[label,":"]}),(0,jsx_runtime.jsx)("input",{type,id:name,name,value,placeholder,onChange:function onChange(e){return null==_onChange?void 0:_onChange(e.target.value)},onBlur:function onBlur(){return null==_onBlur?void 0:_onBlur()}})]})};FormInputV2.displayName="FormInputV2";var browser_inputs_ErrorBlock=function ErrorBlock(){var errors=useFormErrors(),fields=useFormFields();return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object.keys(errors).map((function(name){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{children:[(null==fields?void 0:fields[name])||name,":"]},name),(0,jsx_runtime.jsx)("ul",{children:errors[name].map((function(error,i){return(0,jsx_runtime.jsx)("li",{children:error},i)}))})]})}))})},browser_inputs_formConfig={fields:{username:{label:"Login",rules:[[[Boolean],"Username is required"]]},password:{label:"Password",rules:[[[Boolean],"Password is required"]]}}},browser_inputs_BaseExampleForm=function BaseExampleForm(){var form=useForm_useForm(browser_inputs_formConfig),onSend=(0,react.useCallback)((function(values){console.log("Login data",values)}),[]),onSucceed=(0,react.useCallback)((function(){console.log("Login completed")}),[]);return(0,jsx_runtime.jsx)(stories_base,{left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\nconst formConfig: IUseFormSettings = {\n    fields: {\n        username: {\n            label: "Login",\n            rules: [[[Boolean], "Username is required"]],\n        },\n        password: {\n            label: "Password",\n            rules: [[[Boolean], "Password is required"]],\n        },\n    },\n}\n'}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\nconst form = useForm(formConfig)\n\nconst onSend = useCallback((values: IValues) => {\n    console.log("Login data", values)\n}, [])\n\nconst onSucceed = useCallback(() => {\n    console.log("Login completed")\n}, [])\n'}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:"//console.log(form.value)\n"+JSON.stringify(form.values,null,2)}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:"//console.log(form.errors)\n"+JSON.stringify(form.errors,null,2)}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\nconst styles: React.CSSProperties = { display: "flex", flexDirection: "column" }\n\ntype InputProps = Partial<IConnectedProps> & {\n    type?: string\n    placeholder?: string\n}\n\n//Short-version\nconst FormInputV1: React.FC<InputProps> = ({\n    inputProps = {}, //Provides by ConnectToForm\n    ...rest\n}) => {\n    return (\n        <label style={styles}>\n            {inputProps.label}:\n            <input {..._.pick(rest, ["type", "placeholder"])} {...inputProps} />\n        </label>\n    )\n}\n\n//Full-version\nconst FormInputV2: React.FC<InputProps> = (props) => {\n    const {\n        type = "text",\n        placeholder = "",\n        label, //Provides by ConnectToForm\n        name, //Provides by ConnectToForm\n        value, //Provides by ConnectToForm\n        onChange, //Provides by ConnectToForm\n        onBlur, //Provides by ConnectToForm\n    } = props\n\n    return (\n        <div style={styles}>\n            <label htmlFor={name}>{label}:</label>\n            <input\n                type={type}\n                id={name}\n                name={name}\n                value={value}\n                placeholder={placeholder}\n                onChange={(e) => onChange?.(e.target.value)}\n                onBlur={() => onBlur?.()}\n            />\n        </div>\n    )\n}\n\nconst ErrorBlock = () => {\n    const errors = useFormErrors()\n    const fields = useFormFields()\n\n    return (\n        <>\n            {Object.keys(errors).map((name) => (\n                <>\n                    <p key={name}>{fields?.[name] || name}:</p>\n                    <ul>\n                        {errors[name].map((error, i) => (\n                            <li key={i}>{error as string}</li>\n                        ))}\n                    </ul>\n                </>\n            ))}\n        </>\n    )\n}\n\n...\n\n<FormContext.Provider value={form}>\n    <div style={styles}>\n        <ConnectToForm name="username">\n            <FormInputV1 placeholder="Enter your login" />\n        </ConnectToForm>\n\n        <ConnectToForm name="password">\n            <FormInputV2\n                type="password"\n                placeholder="Enter your password"\n            />\n        </ConnectToForm>\n\n        <FormSubmit onSend={onSend} onSucceed={onSucceed}>\n            {(status: EnumFormSubmitStatus) => {\n                if (status === EnumFormSubmitStatus.Sending) {\n                    return "Sending..."\n                }\n\n                return "Send"\n            }}\n        </FormSubmit>\n\n        <IfForm hasErrors>\n            <ErrorBlock />\n        </IfForm>\n    </div>\n</FormContext.Provider>\n'})]}),children:(0,jsx_runtime.jsx)(form_context.Provider,{value:form,children:(0,jsx_runtime.jsxs)("div",{style:styles,children:[(0,jsx_runtime.jsx)(connect_to_form,{name:"username",children:(0,jsx_runtime.jsx)(FormInputV1,{placeholder:"Enter your login"})}),(0,jsx_runtime.jsx)(connect_to_form,{name:"password",children:(0,jsx_runtime.jsx)(FormInputV2,{type:"password",placeholder:"Enter your password"})}),(0,jsx_runtime.jsx)(form_submit,{onSend,onSucceed,children:function children(status){return status===EnumFormSubmitStatus.Sending?"Sending...":"Send"}}),(0,jsx_runtime.jsx)(utils_ifForm,{hasErrors:!0,children:(0,jsx_runtime.jsx)(browser_inputs_ErrorBlock,{})})]})})})};browser_inputs_BaseExampleForm.displayName="BaseExampleForm";const browser_inputs=browser_inputs_BaseExampleForm;try{browserinputs.displayName="browserinputs",browserinputs.__docgenInfo={description:"",displayName:"browserinputs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/form-examples/browser-inputs.tsx#browserinputs"]={docgenInfo:browserinputs.__docgenInfo,name:"browserinputs",path:"src/stories/form-examples/browser-inputs.tsx#browserinputs"})}catch(__react_docgen_typescript_loader_error){}var chakra_dayzed_datepicker_esm=__webpack_require__("./node_modules/chakra-dayzed-datepicker/dist/chakra-dayzed-datepicker.esm.js"),date_picker_FormField=function FormField(props){var label=props.label,_props$description=props.description,description=void 0===_props$description?null:_props$description,errors=props.errors,children=props.children,_props$hasError=props.hasError,hasError=void 0!==_props$hasError&&_props$hasError;return(0,jsx_runtime.jsxs)(chunk_PXXQR4UW.NI,{isInvalid:hasError,children:[(0,jsx_runtime.jsx)(chunk_3HLJVDJ7.l,{children:label}),children,null!==description&&!hasError&&(0,jsx_runtime.jsx)(chunk_PXXQR4UW.Q6,{children:description}),null==errors?void 0:errors.map((function(errorText,index){return"string"!=typeof errorText?null:(0,jsx_runtime.jsx)(chunk_WFX3T3Z6.J1,{children:errorText},index)}))]})};date_picker_FormField.displayName="FormField";var FormDatePicker=function FormDatePicker(props){var _props$isRange=props.isRange,isRange=void 0!==_props$isRange&&_props$isRange,name=props.name,value=props.value,onChange=props.onChange;return(0,jsx_runtime.jsxs)(date_picker_FormField,Object.assign({},props,{children:[!isRange&&(0,jsx_runtime.jsx)(chakra_dayzed_datepicker_esm.AL,{name,date:value,onDateChange:function onDateChange(date){return null==onChange?void 0:onChange(date)}}),isRange&&(0,jsx_runtime.jsx)(chakra_dayzed_datepicker_esm.ou,{name,selectedDates:value,onDateChange:function onDateChange(date){return null==onChange?void 0:onChange(date)}})]}))};FormDatePicker.displayName="FormDatePicker";var date_picker_ErrorBlock=function ErrorBlock(){var errors=useFormErrors(),fields=useFormFields();return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object.keys(errors).map((function(name){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{children:[(null==fields?void 0:fields[name])||name,":"]},name),(0,jsx_runtime.jsx)("ul",{children:errors[name].map((function(error,i){return(0,jsx_runtime.jsx)("li",{children:error},i)}))})]})}))})},date_picker_formConfig={fields:{date:{label:"Date picker",rules:[[[Boolean],"Date is required"]],initialValue:new Date},rangeDates:{label:"Date picker: Range",rules:[[[Boolean],"Username is required"]],initialValue:[new Date,new Date]}}},date_picker_BaseExampleForm=function BaseExampleForm(){var form=useForm_useForm(date_picker_formConfig),onSend=(0,react.useCallback)((function(values){console.log("Login data",values)}),[]),onSucceed=(0,react.useCallback)((function(){console.log("Login completed")}),[]);return(0,jsx_runtime.jsx)(stories_base,{isChakra:!0,left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\nconst formConfig: IUseFormSettings = {\n    fields: {\n        date: {\n            label: "Date picker",\n            rules: [[[Boolean], "Date is required"]],\n            initialValue: new Date(),\n        },\n        rangeDates: {\n            label: "Date picker: Range",\n            rules: [[[Boolean], "Username is required"]],\n            initialValue: [new Date(), new Date()],\n        },\n    },\n}\n'}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\nconst form = useForm(formConfig)\n\nconst onSend = useCallback((values: IValues) => {\n    console.log("Login data", values)\n}, [])\n\nconst onSucceed = useCallback(() => {\n    console.log("Login completed")\n}, [])\n'}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:"//console.log(form.value)\n"+JSON.stringify(form.values,null,2)}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:"//console.log(form.errors)\n"+JSON.stringify(form.errors,null,2)}),(0,jsx_runtime.jsx)(prism.Z,{language:"jsx",style:vsc_dark_plus.Z,children:'\ntype InputProps = Partial<IConnectedProps> & {\n    type?: string\n    placeholder?: string\n    description?: string\n}\n\nconst FormField: FC<PropsWithChildren<InputProps>> = (props) => {\n    const {\n        label,\n        description = null,\n        errors, //Provides by ConnectToForm\n        children,\n        hasError = false, //Provides by ConnectToForm\n    } = props\n\n    return (\n        <FormControl isInvalid={hasError}>\n            <FormLabel>{label}</FormLabel>\n\n            {children}\n\n            {description !== null && !hasError && (\n                <FormHelperText>{description}</FormHelperText>\n            )}\n\n            {errors?.map((errorText, index) => {\n                if (typeof errorText !== "string") {\n                    return null\n                }\n\n                return (\n                    <FormErrorMessage key={index}>{errorText}</FormErrorMessage>\n                )\n            })}\n        </FormControl>\n    )\n}\n\nconst FormDatePicker: React.FC<InputProps & { isRange?: boolean }> = (\n    props\n) => {\n    const {\n        isRange = false,\n        name, //Provides by ConnectToForm\n        value, //Provides by ConnectToForm\n        onChange, //Provides by ConnectToForm\n    } = props\n\n    return (\n        <FormField {...props}>\n            {!isRange && (\n                <SingleDatepicker\n                    name={name}\n                    date={value}\n                    onDateChange={(date) => onChange?.(date)}\n                />\n            )}\n\n            {isRange && (\n                <RangeDatepicker\n                    name={name}\n                    selectedDates={value}\n                    onDateChange={(date) => onChange?.(date)}\n                />\n            )}\n        </FormField>\n    )\n}\n\nconst ErrorBlock = () => {\n    const errors = useFormErrors()\n    const fields = useFormFields()\n\n    return (\n        <>\n            {Object.keys(errors).map((name) => (\n                <>\n                    <p key={name}>{fields?.[name] || name}:</p>\n                    <ul>\n                        {errors[name].map((error, i) => (\n                            <li key={i}>{error as string}</li>\n                        ))}\n                    </ul>\n                </>\n            ))}\n        </>\n    )\n}\n...\n\n<FormContext.Provider value={form}>\n    <VStack alignItems={"flex-start"}>\n        <ConnectToForm name="date">\n            <FormDatePicker />\n        </ConnectToForm>\n\n        <ConnectToForm name="rangeDates">\n            <FormDatePicker isRange />\n        </ConnectToForm>\n\n        <FormSubmit\n            as={Button}\n            onSend={onSend}\n            onSucceed={onSucceed}\n        >\n            {(status: EnumFormSubmitStatus) => {\n                if (status === EnumFormSubmitStatus.Sending) {\n                    return "Sending..."\n                }\n\n                return "Send"\n            }}\n        </FormSubmit>\n\n        <IfForm hasErrors>\n            <ErrorBlock />\n        </IfForm>\n    </VStack>\n</FormContext.Provider>\n'})]}),children:(0,jsx_runtime.jsx)(form_context.Provider,{value:form,children:(0,jsx_runtime.jsxs)(chunk_MUMUYFOI.g,{alignItems:"flex-start",children:[(0,jsx_runtime.jsx)(connect_to_form,{name:"date",children:(0,jsx_runtime.jsx)(FormDatePicker,{})}),(0,jsx_runtime.jsx)(connect_to_form,{name:"rangeDates",children:(0,jsx_runtime.jsx)(FormDatePicker,{isRange:!0})}),(0,jsx_runtime.jsx)(form_submit,{as:chunk_NAA7TEES.z,onSend,onSucceed,children:function children(status){return status===EnumFormSubmitStatus.Sending?"Sending...":"Send"}}),(0,jsx_runtime.jsx)(utils_ifForm,{hasErrors:!0,children:(0,jsx_runtime.jsx)(date_picker_ErrorBlock,{})})]})})})};date_picker_BaseExampleForm.displayName="BaseExampleForm";const date_picker=date_picker_BaseExampleForm;try{datepicker.displayName="datepicker",datepicker.__docgenInfo={description:"",displayName:"datepicker",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/form-examples/date-picker.tsx#datepicker"]={docgenInfo:datepicker.__docgenInfo,name:"datepicker",path:"src/stories/form-examples/date-picker.tsx#datepicker"})}catch(__react_docgen_typescript_loader_error){}const FormExamples_stories={title:"Form examples",component:function FormExamples(){return null}};var __namedExportsOrder=["ChakraUiExample","BrowserInputsExample","DatePickerExample"];try{BaseExampleForm.displayName="BaseExampleForm",BaseExampleForm.__docgenInfo={description:"",displayName:"BaseExampleForm",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/FormExamples.stories.tsx#BaseExampleForm"]={docgenInfo:BaseExampleForm.__docgenInfo,name:"BaseExampleForm",path:"src/stories/FormExamples.stories.tsx#BaseExampleForm"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./FormExamples.stories.tsx":"./src/stories/FormExamples.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src/stories sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src/stories sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src/stories sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"?4f7e":()=>{},"./.storybook/preview.cjs":module=>{module.exports={parameters:{actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},darkMode:{stylePreview:!0,classTarget:"html"}}}},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src/stories sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$"),__webpack_require__("./src/stories sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)},"./storybook-init-framework-entry.js":(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[450],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.cjs-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);